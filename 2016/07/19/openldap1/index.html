<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>ldap 学习笔记（一） | francisar&#39;s Blog</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="francisar's Blog">
    <meta name="author" content="franciscui">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="francisar&#39;s Blog" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
    <link rel="stylesheet" href="/highlightjs/idea.css" type="text/css">
    
    

    <!-- Custom stylesheet, (add custom styles here, always load last) -->
    <!-- Load our stylesheet for IE8 -->
    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
    <link href='//fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.useso.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
    <!--[if IE]>
    <link href='http://fonts.useso.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <![endif]-->
    <script src="/qunee/js/qunee-min.js"></script>
    <script src="/qunee/js/graphs.js"></script>
<script src="/qunee/js/qunee-functions.js"></script>
    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>


    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->










  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
<SCRIPT type=text/javascript src="/js/calendar.js"></SCRIPT>

<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?f0d00aef190bb797f0d2ba4105e6200f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            
        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/K8S/" class="animsition-link">K8S<small>(3)</small></a></li>
				    
				    <li><a href="/categories/hadoop/" class="animsition-link">hadoop<small>(1)</small></a></li>
				    
				    <li><a href="/categories/ldap/" class="animsition-link">ldap<small>(1)</small></a></li>
				    
				    <li><a href="/categories/python/" class="animsition-link">python<small>(2)</small></a></li>
				    
				    <li><a href="/categories/subversion/" class="animsition-link">subversion<small>(1)</small></a></li>
				    
				    <li><a href="/categories/网络技术/" class="animsition-link">网络技术<small>(3)</small></a></li>
				    
				</ul>
        	</li>
			
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">francisar's Blog</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/francisar" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <li><a href="https://twitter.com/cpf382607308" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li>
                            
                            
                            
                            
                            <li><a href="http://weibo.com/u/2465175025/home" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->

        <!-- ============================ Hero Image =========================== -->

        <section id="hero" class="scrollme">
            <div class="container-fluid element-img" style="background: url(/img/bg_img.jpg) no-repeat center center fixed;background-size: cover">
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 vertical-align cover boost text-center">
                        <div class="center-me animateme" data-when="exit" data-from="0" data-to="0.6" data-opacity="0" data-translatey="100">
                            <div>
                            	
                                <h2>The wise man builds no hopes for the future, entertains no regrets for the past.</h2>
                                <p></p>
				    			
                                <h2></h2>
                                <p>既然目标是地平线 留给世界的只能是背影。</p>
				    			

                            </div>
                        </div>
                    </div>
                    <!-- // .col-md-12 -->
                </div>
                <div class="herofade beige-dk"></div>
            </div>
        </section>

        <!-- Height spacing helper -->
        <div class="heightblock"></div>
        <!-- // End height spacing helper -->

        <!-- ============================ END Hero Image =========================== -->
      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2016-07-19T14:47:00.000Z" itemprop="datePublished">
          2016-07-19
      </time>
    
    
    | 
    <a href='/tags/openldap/'>openldap</a>
    
    
</span>
                <h1>ldap 学习笔记（一）</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h1 id="ldap-介绍"><a href="#ldap-介绍" class="headerlink" title="ldap 介绍"></a>ldap 介绍</h1><h2 id="目录服务"><a href="#目录服务" class="headerlink" title="目录服务"></a>目录服务</h2><p>目录是一个为查询、浏览和搜索而优化的专业分布式数据库，它呈树状结构组织数据，就好象Linux/Unix系统中的文件目录一样。目录数据库和关系数据库不同，它有优异的读性能，但写性能差，并且没有事务处理、回滚等复杂功能，不适于存储修改频繁的数据。所以目录天生是用来查询的，就好象它的名字一样。</p>
<p>目录服务是由目录数据库和一套访问协议组成的系统。类似以下的信息适合储存在目录中：</p>
<p>企业员工信息，如姓名、电话、邮箱等；<br>公用证书和安全密钥；<br>公司的物理设备信息，如服务器，它的IP地址、存放位置、厂商、购买时间等；<br>LDAP是轻量目录访问协议(Lightweight Directory Access Protocol)的缩写，LDAP是从X.500目录访问协议的基础上发展过来的，目前的版本是v3.0。与LDAP一样提供类似的目录服务软件还有ApacheDS、Active Directory、Red Hat Directory Service 。</p>
<h2 id="ldap特点"><a href="#ldap特点" class="headerlink" title="ldap特点"></a>ldap特点</h2><ul>
<li>LDAP的结构用树来表示，而不是用表格。正因为这样，就不能用SQL语句了</li>
<li>LDAP可以很快地得到查询结果，不过在写方面，就慢得多</li>
<li>LDAP提供了静态数据的快速查询方式</li>
<li>Client/server模型，Server 用于存储数据，Client提供操作目录信息树的工具</li>
<li>这些工具可以将数据库的内容以文本格式（LDAP 数据交换格式，LDIF）呈现在您的面前</li>
<li>LDAP是一种开放Internet标准，LDAP协议是跨平台的Interent协议</li>
</ul>
<h1 id="LDAP组织数据的方式"><a href="#LDAP组织数据的方式" class="headerlink" title="LDAP组织数据的方式"></a>LDAP组织数据的方式</h1><script>
var graph = new Q.Graph(canvas);
graph.zoomToOverview();
var basedn = createStep("dc=franciscui,dc=cn", 220, 100, "base dn");
var people = createSmallStep("ou=People", 280, 200,  basedn);
var root = createSmallStep("uid=root", 230, 300,  people);
var www = createSmallStep("uid=www", 330, 300,  people);
var admin = createSmallStep("ou=Admin", 180, 200,  basedn);
var group = createSmallStep("ou=Group", 380, 200,  basedn);
var www_group = createSmallStep("cn=www", 430, 300,  group);

createEdge(basedn, people, 1);
createEdge(basedn, admin, 1);
createEdge(basedn, group, 1);
createEdge(group, www_group, 1);
createEdge(people, root, 1);
createEdge(people, www, 1);

</script>


<h2 id="1-Entry"><a href="#1-Entry" class="headerlink" title="1 Entry"></a>1 Entry</h2><p>条目，也叫记录项，是LDAP中最基本的颗粒，就像字典中的词条，或者是数据库中的记录。通常对LDAP的添加、删除、更改、检索都是以条目为基本对象的。</p>
<p>dn：每一个条目都有一个唯一的标识名（distinguished Name ，DN），如上图中一个 dn：”cn=baby,ou=marketing,ou=people,dc=mydomain,dc=org” 。通过DN的层次型语法结构，可以方便地表示出条目在LDAP树中的位置，通常用于检索。</p>
<p>rdn：一般指dn逗号最左边的部分，如cn=baby。它与RootDN不同，RootDN通常与RootPW同时出现，特指管理LDAP中信息的最高权限用户。</p>
<p>Base DN：LDAP目录树的最顶部就是根，也就是所谓的“Base DN”，如”dc=mydomain,dc=org”。</p>
<h2 id="2-Attribute"><a href="#2-Attribute" class="headerlink" title="2 Attribute"></a>2 Attribute</h2><p>每个条目都可以有很多属性（Attribute），比如常见的人都有姓名、地址、电话等属性。每个属性都有名称及对应的值，属性值可以有单个、多个，比如你有多个邮箱。</p>
<p>属性不是随便定义的，需要符合一定的规则，而这个规则可以通过schema制定。比如，如果一个entry没有包含在 inetorgperson 这个 schema 中的objectClass: inetOrgPerson，那么就不能为它指定employeeNumber属性，因为employeeNumber是在inetOrgPerson中定义的。</p>
<p>LDAP为人员组织机构中常见的对象都设计了属性(比如commonName，surname)。下面有一些常用的别名：</p>
<h2 id="3-ObjectClass"><a href="#3-ObjectClass" class="headerlink" title="3 ObjectClass"></a>3 ObjectClass</h2><p>对象类是属性的集合，LDAP预想了很多人员组织机构中常见的对象，并将其封装成对象类。比如人员（person）含有姓（sn）、名（cn）、电话(telephoneNumber)、密码(userPassword)等属性，单位职工(organizationalPerson)是人员(person)的继承类，除了上述属性之外还含有职务（title）、邮政编码（postalCode）、通信地址(postalAddress)等属性。</p>
<p>通过对象类可以方便的定义条目类型。每个条目可以直接继承多个对象类，这样就继承了各种属性。如果2个对象类中有相同的属性，则条目继承后只会保留1个属性。对象类同时也规定了哪些属性是基本信息，必须含有(Must 活Required，必要属性)：哪些属性是扩展信息，可以含有（May或Optional，可选属性）。</p>
<p>对象类有三种类型：结构类型（Structural）、抽象类型(Abstract)和辅助类型（Auxiliary）。结构类型是最基本的类型，它规定了对象实体的基本属性，每个条目属于且仅属于一个结构型对象类。抽象类型可以是结构类型或其他抽象类型父类，它将对象属性中共性的部分组织在一起，称为其他类的模板，条目不能直接集成抽象型对象类。辅助类型规定了对象实体的扩展属性。每个条目至少有一个结构性对象类。</p>
<p>对象类本身是可以相互继承的，所以对象类的根类是top抽象型对象类。以常用的人员类型为例，他们的继承关系：</p>
<div style="height: 500px;" id="canvas1"/><br><script><br>var graph = new Q.Graph(canvas1);<br>graph.zoomToOverview();<br><br><br><br><br>function createEdge(from, to, lineWidth, dash){<br>        var edge = graph.createEdge(from, to);<br>        edge.setStyle(Q.Styles.EDGE_WIDTH, lineWidth || 3);<br>        edge.setStyle(Q.Styles.EDGE_COLOR, “#1D4876”);<br>    if(dash){<br>                edge.setStyle(Q.Styles.EDGE_LINE_DASH, [10, 10]);<br><br>    }<br>        return edge;<br><br>}<br>function createAssistNode(label, x, y, parent){<br>        var node = graph.createText(label, x, y);<br>        node.setStyle(Q.Styles.LABEL_BORDER, 1);<br>        node.setStyle(Q.Styles.LABEL_BORDER_STYLE, “#A020F0”);<br>        node.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>        node.setStyle(Q.Styles.LABEL_PADDING, 5);<br>        node.setStyle(Q.Styles.LABEL_SIZE, new Q.Size(70, 35));<br>        node.setStyle(Q.Styles.LABEL_BACKGROUND_COLOR, “#FFF”);<br>        node.anchorPosition = Q.Position.LEFT_TOP;<br>    if(parent){<br>                node.parent = parent;<br>                node.host = parent;<br><br>    }<br>        return node;<br><br>}<br>function createStructNode(label, x, y, parent){<br>        var node = graph.createText(label, x, y);<br>        node.setStyle(Q.Styles.LABEL_BORDER, 1);<br>        node.setStyle(Q.Styles.LABEL_BORDER_STYLE, “#ED9121”);<br>        node.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>        node.setStyle(Q.Styles.LABEL_PADDING, 5);<br>        node.setStyle(Q.Styles.LABEL_SIZE, new Q.Size(70, 35));<br>        node.setStyle(Q.Styles.LABEL_BACKGROUND_COLOR, “#FFF”);<br>        node.anchorPosition = Q.Position.LEFT_TOP;<br>    if(parent){<br>                node.parent = parent;<br>                node.host = parent;<br><br>    }<br>        return node;<br><br>}<br>function createAbstractNode(label, x, y, parent){<br>        var node = graph.createText(label, x, y);<br>        node.setStyle(Q.Styles.LABEL_BORDER, 1);<br>        node.setStyle(Q.Styles.LABEL_BORDER_STYLE, “#1D4876”);<br>        node.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>        node.setStyle(Q.Styles.LABEL_PADDING, 5);<br>        node.setStyle(Q.Styles.LABEL_SIZE, new Q.Size(70, 35));<br>        node.setStyle(Q.Styles.LABEL_BACKGROUND_COLOR, “#FFF”);<br>        node.anchorPosition = Q.Position.LEFT_TOP;<br>    if(parent){<br>                node.parent = parent;<br>                node.host = parent;<br><br>    }<br>        return node;<br><br>}<br>var AbstractNode = createAbstractNode(“抽象类型”, 400, 50);<br>var StructNode = createStructNode(“结构类型”, 400, 100);<br>var AssistNode = createAssistNode(“辅助类型”, 400, 150);<br>var atop = createAbstractNode(“top”, 220, 100);<br>var person = createStructNode(“person”, 220, 170);<br>var organizationalPerson = createStructNode(“organizationalPerson”, 20,240,person);<br>var residentialPerson = createStructNode(“residentialPerson”, 200, 240,  person);<br>var ePerson = createAssistNode(“ePerson”, 380, 240,  person);<br>var inetOrgPerson = createStructNode(“inetOrgPerson”, 20, 310,  organizationalPerson);<br>createEdge(person, atop, 1);<br>createEdge(organizationalPerson, person, 1);<br>createEdge(residentialPerson, person, 1);<br>createEdge(ePerson, person, 1);<br>createEdge(inetOrgPerson, organizationalPerson, 1);<br></script><br></div>

<p>下面是inetOrgPerson对象类的在schema中的定义，可以清楚的看到它的父类SUB和可选属性MAY、必要属性MUST(继承自organizationalPerson)，关于各属性的语法则在schema中的attributetype定义。</p>
<!--lang:c-->
<pre><code># inetOrgPerson
# The inetOrgPerson represents people who are associated with an
# organization in some way.  It is a structural class and is derived
# from the organizationalPerson which is defined in X.521 [X521].
objectclass     ( 2.16.840.1.113730.3.2.2
    NAME &apos;inetOrgPerson&apos;
        DESC &apos;RFC2798: Internet Organizational Person&apos;
    SUP organizationalPerson
    STRUCTURAL
        MAY (
            audio $ businessCategory $ carLicense $ departmentNumber $
            displayName $ employeeNumber $ employeeType $ givenName $
            homePhone $ homePostalAddress $ initials $ jpegPhoto $
            labeledURI $ mail $ manager $ mobile $ o $ pager $
            photo $ roomNumber $ secretary $ uid $ userCertificate $
            x500uniqueIdentifier $ preferredLanguage $
            userSMIMECertificate $ userPKCS12 )
        )
</code></pre><h2 id="4-Schema"><a href="#4-Schema" class="headerlink" title="4 Schema"></a>4 Schema</h2><p>对象类（ObjectClass）、属性类型（AttributeType）、语法（Syntax）分别约定了条目、属性、值，他们之间的关系如下图所示。所以这些构成了模式(Schema)——对象类的集合。条目数据在导入时通常需要接受模式检查，它确保了目录中所有的条目数据结构都是一致的。</p>
<div style="height: 500px;" id="canvas2"/><br><script><br>var graph = new Q.Graph(canvas2);<br>//graph.moveToCenter(0);<br>graph.zoomOut(0,0);<br>graph.zoomOut(0,0);<br>tiaomu = createTextwithBox(“条目”,100,100)<br>tiaomu.setStyle(Q.Styles.LABEL_ALIGN_POSITION, Q.Position.CENTER_TOP);<br>tiaomu.setStyle(Q.Styles.LABEL_FONT_SIZE, 20);<br>tiaomu.setStyle(Q.Styles.LABEL_SIZE, {width: 340, height: 350});<br>must = createTextwithBox(“must”,20,120,tiaomu)<br>must.setStyle(Q.Styles.LABEL_ALIGN_POSITION, Q.Position.CENTER_TOP);<br>must.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>must.setStyle(Q.Styles.LABEL_SIZE, {width: 120, height: 280});<br>may = createTextwithBox(“may”,180,120,tiaomu)<br>may.setStyle(Q.Styles.LABEL_ALIGN_POSITION, Q.Position.CENTER_TOP);<br>may.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>may.setStyle(Q.Styles.LABEL_SIZE, {width: 120, height: 280});<br><br>object1box = createTextwithBox(“   “,100,80,must)<br>object1box.setStyle(Q.Styles.LABEL_ALIGN_POSITION, Q.Position.CENTER_TOP);<br>object1box.setStyle(Q.Styles.ALPHA, 0.5);<br>object1box.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>object1box.setStyle(Q.Styles.LABEL_SIZE, {width: 250, height: 100});<br><br>object2box = createTextwithBox(“   “,100,200,must)<br>object2box.setStyle(Q.Styles.LABEL_ALIGN_POSITION, Q.Position.CENTER_TOP);<br>object2box.setStyle(Q.Styles.ALPHA, 0.5);<br>object2box.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>object2box.setStyle(Q.Styles.LABEL_SIZE, {width: 250, height: 60});<br><br>Object1 = createTextwithBox(“对象类1”,-200,100,null,”#000”,14,”#5E2612”)<br>Object2 = createTextwithBox(“对象类2”,-200,200,null,”#000”,14,”#5E2612”)<br><br><br>attr1 = createTextwithBox(“属性1”,20,50,must,”#000”,14,”#5E2612”)<br>attr2 = createTextwithBox(“属性2”,20,100,must,”#000”,14,”#5E2612”)<br>attr3 = createTextwithBox(“属性3”,20,200,must,”#000”,14,”#5E2612”)<br>attr4 = createTextwithBox(“属性4”,180,100,may,”#000”,14,”#5E2612”)<br>attr5 = createTextwithBox(“属性5”,180,200,may,”#000”,14,”#5E2612”)<br><br><br><br>attr = createTextwithBox(“属性类型”,400,180)<br>attr.setStyle(Q.Styles.LABEL_ALIGN_POSITION, Q.Position.CENTER_TOP);<br>attr.setStyle(Q.Styles.LABEL_FONT_SIZE, 16);<br>attr.setStyle(Q.Styles.LABEL_SIZE, {width: 120, height: 200});<br><br><br>value1 = createTextwithBox(“值1”,400,140,attr,”#000”,14,”#5E2612”)<br>value2 = createTextwithBox(“值2”,400,200,attr,”#000”,14,”#5E2612”)<br>attr_type = createTextwithBox(“值2”,400,200,attr,”#000”,14,”#5E2612”)<br>createEdge_arrow(attr5,attr,1)<br>createEdge_arrow(Object1,object1box,1)<br>createEdge_arrow(Object2,object2box,1)<br><br></script><br></div>

<p>schema（一般在/etc/ldap/schema/目录）在导入时要注意前后顺序。</p>
<h2 id="5-backend-amp-database"><a href="#5-backend-amp-database" class="headerlink" title="5 backend &amp; database"></a>5 backend &amp; database</h2><p>ldap的后台进程slapd接收、响应请求，但实际存储数据、获取数据的操作是由Backends做的，而数据是存放在database中，所以你可以看到往往你可以看到backend和database指令是一样的值如 bdb 。一个 backend 可以有多个 database instance，但每个 database 的 suffix 和 rootdn 不一样。openldap 2.4版本的模块是动态加载的，所以在使用backend时需要moduleload back_bdb指令。</p>
<p>bdb是一个高性能的支持事务和故障恢复的数据库后端，可以满足绝大部分需求。许多旧文档里（包括官方）说建议将bdb作为首选后端服务（primary backend），但2.4版文档明确说hdb才是被首先推荐使用的，这从 2.4.40 版默认安装后的配置文件里也可以看出。hdb是基于bdb的，但是它通过扩展的索引和缓存技术可以加快数据访问，修改entries会更有效率，有兴趣可以访问上的链接或slapd.backends。</p>
<p>另外config是特殊的backend，用来在运行时管理slapd的配置，它只能有一个实例，甚至无需显式在slapd.conf中配置。</p>
<h2 id="6-LDIF"><a href="#6-LDIF" class="headerlink" title="6 LDIF"></a>6 LDIF</h2><p>LDIF（LDAP Data Interchange Format，数据交换格式）是LDAP数据库信息的一种文本格式，用于数据的导入导出，每行都是“属性: 值”对</p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    
    <a class="pull-right" href="/2016/07/18/svn_compile/">
        svn 编译支持http协议问题 →
    </a>
    
</nav>

        <div class="duoshuo">
<div class="ds-thread" data-thread-key="2016/07/19/openldap1/" data-title="ldap 学习笔记（一）" data-url="http://tech.mts.cab/2016/07/19/openldap1/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"franciscui"};
(function() {
	var ds = document.createElement('script');
	ds.type = 'text/javascript';ds.async = true;
	ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0] 
	 || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By franciscui. All Rights Reserved.
                </p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/francisar" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    <li><a href="https://twitter.com/cpf382607308" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    <li><a href="http://weibo.com/u/2465175025/home" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };
    
    resizeHero();
    
    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
